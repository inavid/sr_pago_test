(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){e.exports=a(73)},39:function(e,t,a){},40:function(e,t,a){},42:function(e,t,a){},64:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),l=a(13),c=a.n(l),i=(a(39),a(7)),s=a(8),r=a(10),u=a(9),m=a(11),d=(a(40),a(86)),h=a(87),p=a(77),f=a(17),E=a.n(f),g=a(31),b=(a(42),a(74)),v=a(75),C=a(76),O=a(78),j=a(79),y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={state_selected:"",states:[],municipio_selected:"",municipios:[],postal_code_selected:"",postalCodes:[],submitable:!1},a.handleChange=function(e){var t=a.state.states.filter(function(t){return e.target.value===t.d_estado});t=t[0],a.setState({state_selected:t.id},function(){this.loadMunicipios()})},a.loadMunicipios=function(){fetch("http://localhost/api/sepomex/municipios/".concat(a.state.state_selected)).then(function(e){return e.json()}).then(function(e){a.setState({municipio_selected:e[0].id,municipios:e})}).catch(console.log)},a.handleMunicipiosChange=function(e){var t=a.state.municipios.filter(function(t){return e.target.value===t.D_mnpio});t=t[0],a.setState({municipio_selected:t.id},function(){this.loadPostalCodes()})},a.loadPostalCodes=function(){fetch("http://localhost/api/sepomex/postalCodes/".concat(a.state.municipio_selected)).then(function(e){return e.json()}).then(function(e){a.setState({postal_code_selected:e[0].id,postalCodes:e})}).catch(console.log)},a.handlePostalChange=function(e){var t=a.state.postalCodes.filter(function(t){return e.target.value===t.d_codigo});t=t[0],a.setState({postal_code_selected:t.d_codigo})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t=this;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost/api/sepomex?group=state").then(function(e){return e.json()}).then(function(e){t.setState({state_selected:e[0].c_estado,states:e})}).catch(console.log);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement(b.a,{className:"formulary"},o.a.createElement(v.a,{row:!0},o.a.createElement(C.a,{for:"estado",sm:2},"Estado"),o.a.createElement(p.a,{sm:10},o.a.createElement(O.a,{type:"select",name:"estado",id:"estado",onChange:this.handleChange},this.state.states?this.state.states.map(function(e){return o.a.createElement("option",{id:e.c_estado,key:e.c_estado},e.d_estado)}):null))),o.a.createElement(v.a,{row:!0},o.a.createElement(C.a,{for:"municipio",sm:2},"Municipio"),o.a.createElement(p.a,{sm:10},o.a.createElement(O.a,{type:"select",name:"municipio",id:"municipio",onChange:this.handleMunicipiosChange},this.state.municipios?this.state.municipios.map(function(e){return o.a.createElement("option",{id:e.id,key:e.id},e.D_mnpio)}):null))),o.a.createElement(v.a,{row:!0},o.a.createElement(C.a,{for:"postalCode",sm:2},"C\xf3digo Postal"),o.a.createElement(p.a,{sm:10},o.a.createElement(O.a,{type:"select",name:"postalCode",id:"postalCode",onChange:this.handlePostalChange},this.state.postalCodes?this.state.postalCodes.map(function(e){return o.a.createElement("option",{id:e.id,key:e.id},e.d_codigo)}):null))),o.a.createElement(j.a,{color:"secondary",size:"lg",block:!0,onClick:function(){e.props.onClickSubmitButton(e.state.postal_code_selected)}},"Search"))}}]),t}(o.a.Component),_=a(33),k=a.n(_),w=a(80),S=function(e){var t=e.text;return o.a.createElement("div",null,o.a.createElement(w.a,{color:"dark"},t))},x=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:{height:"50vh",width:"100%"}},o.a.createElement(k.a,{bootstrapURLKeys:{key:"AIzaSyDG1Qrdk6PRv7CS-N88YK-99zO1i-KP-lA"},center:this.props.center,zoom:this.props.zoom},this.props.infoGasolinas.length>0?this.props.infoGasolinas.map(function(e){return o.a.createElement(S,{key:e._id,lat:e.latitude,lng:e.longitude,text:"$ "+e.regular})}):null))}}]),t}(n.Component),G=a(6),P=(a(64),a(81)),z=a(82),B=a(83),M=a(88),N=a(84),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).toggle=a.toggle.bind(Object(G.a)(a)),a.state={isOpen:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return o.a.createElement(P.a,{color:"dark",expand:"md",className:"header"},o.a.createElement(z.a,{href:"/",className:"header-title"},"Sr. Pago"),o.a.createElement(B.a,{onClick:this.toggle}),o.a.createElement(M.a,{isOpen:this.state.isOpen,navbar:!0},o.a.createElement(N.a,{className:"ml-auto",navbar:!0})))}}]),t}(o.a.Component),D=a(85),$=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.infoGasolinas.length>0?o.a.createElement(D.a,{responsive:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Id"),o.a.createElement("th",null,"Calle"),o.a.createElement("th",null,"RFC"),o.a.createElement("th",null,"Precio regular"),o.a.createElement("th",null,"Precio premium"),o.a.createElement("th",null,"Permiso"))),o.a.createElement("tbody",null,this.props.infoGasolinas.map(function(e){return o.a.createElement("tr",{key:e._id},o.a.createElement("th",{scope:"row"},e._id),o.a.createElement("td",null,e.calle),o.a.createElement("td",null,e.rfc),o.a.createElement("td",null,"$ "+e.regular),o.a.createElement("td",null,"$ "+e.premium),o.a.createElement("td",null,e.numeropermiso))}))):null}}]),t}(o.a.Component),F=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={infoGasolinas:[],center:{lat:19.4179232,lng:-99.1505714},zoom:14},a.onClickSubmitButton=function(e){if(!e)return alert("You need to select a postal code"),!1;fetch("http://localhost/api/external-data/".concat(e)).then(function(e){return e.json()}).then(function(e){e.success&&a.setState({infoGasolinas:e.results,center:{lat:parseFloat(e.results[0].latitude),lng:parseFloat(e.results[0].longitude)}})}).catch(console.log)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(d.a,null,o.a.createElement(A,null),o.a.createElement(h.a,null,o.a.createElement(p.a,{xs:"6",sm:"6"},o.a.createElement(y,{onClickSubmitButton:this.onClickSubmitButton})),o.a.createElement(p.a,{xs:"6",sm:"6"},o.a.createElement(x,{infoGasolinas:this.state.infoGasolinas,center:this.state.center,zoom:this.state.zoom}))),o.a.createElement(h.a,null,o.a.createElement(p.a,{xs:"12"},o.a.createElement($,{infoGasolinas:this.state.infoGasolinas})))))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(72);c.a.render(o.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.0b0943b2.chunk.js.map